local queuePopup = script.Parent
local updateSignal = queuePopup:WaitForChild("QueueUpdateSignal") -- ë‚´ì„  ì „í™”ê¸°
local stateBG = queuePopup:WaitForChild("QueuePopup_BG"):WaitForChild("QueuePopup_StateBG") -- ê²½ë¡œ í™•ì¸

-- 2. ì‚¬ìš©í•  ì´ë¯¸ì§€ ì—ì…‹ ID (ì—¬ê¸°ì— ë‹˜ì˜ ì´ë¯¸ì§€ IDë¥¼ ë„£ìœ¼ì„¸ìš”!)
-- ì˜ˆì‹œ: "rbxassetid://123456789"
-- local IMG_ON = "rbxassetid://000000000"  -- ì¼œì§„ ìƒíƒœ (ìœ ì € ìžˆìŒ)
-- local IMG_OFF = "rbxassetid://111111111" -- êº¼ì§„ ìƒíƒœ (ë¹ˆ ìžë¦¬)

local COLOR_ON = Color3.fromRGB(0, 255, 0)    -- ðŸŸ¢ ì´ˆë¡ìƒ‰ (í™œì„±)
local COLOR_OFF = Color3.fromRGB(75, 75, 75)  -- âš« íšŒìƒ‰ (ë¹„í™œì„±)


-- [ê¸°ëŠ¥] UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜
local function updateUI(currentCount, maxCount)
	print("UI ìŠ¤í¬ë¦½íŠ¸: í™”ë©´ì„ ê°±ì‹ í•©ë‹ˆë‹¤.")
	-- 1ë²ˆ ìŠ¬ë¡¯ë¶€í„° 4ë²ˆ ìŠ¬ë¡¯ê¹Œì§€ ë°˜ë³µí•´ì„œ ê²€ì‚¬
	for i = 1, 4 do
		local userName = "QueuePopup_User" .. i -- "Slot1", "Slot2"... ì´ë¦„ì„ ë§Œë“¦
		local userImage = stateBG:FindFirstChild(userName)

		if userImage then
			-- [í•µì‹¬ ë¡œì§]
			-- í˜„ìž¬ ìˆœë²ˆ(i)ì´ ì ‘ì† ì¸ì›(currentCount)ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ìœ¼ë©´ ON
			-- ì˜ˆ: currentê°€ 2ì¼ ë•Œ -> 1(ON), 2(ON), 3(OFF), 4(OFF)
			if i <= currentCount then
				userImage.ImageColor3 = COLOR_ON
			else
				userImage.ImageColor3 = COLOR_OFF
			end
		end
	end
end

-- [ì—°ê²°] ëˆ„ê°€ ë‚´ì„  ì „í™”ë¥¼ ê±¸ë©´(Fire) ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ë¼!
updateSignal.Event:Connect(updateUI)
